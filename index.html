<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>Langage d'enchantement Minecraft (Unicode)</title>
</head>
<body>
    <div class="wrapper">
        <div class="container">
            <h1>Langage d'enchantement Minecraft (Unicode)</h1>
            
            <textarea id="input-text" placeholder="√âcris ici du texte normal..." rows="4" cols="50"></textarea>
            <p class="enchant" id="translated-text">Le texte enchant√© appara√Ætra ici</p>
            <button onclick="copyToClipboard('translated-text')">Copier</button> <!-- Bouton Copier -->
        </div>

        <div class="container">
            <h2>Convertir un texte enchant√© en texte normal</h2>
            
            <textarea id="enchant-text" placeholder="Colle ici du texte enchant√©..." rows="4" cols="50"></textarea>
            <p id="normal-text">Le texte normal appara√Ætra ici</p>
            <button onclick="copyToClipboard('normal-text')">Copier</button> <!-- Bouton Copier -->
        </div>
    </div>

    <script>
        const alphabetGalactiqueUnicode = {
            'a': '·îë', 'b': ' ñ', 'c': '·ìµ', 'd': '‚Ü∏', 'e': '·í∑',
            'f': '‚éì', 'g': '‚ä£', 'h': '‚çë', 'i': '‚ïé', 'j': '‚ãÆ',
            'k': 'Íñå', 'l': 'Íñé', 'm': '·í≤', 'n': '„É™', 'o': 'ùôπ',
            'p': '!¬°', 'q': '·ëë', 'r': '‚à∑', 's': '·ì≠', 't': '‚Ñ∏ Ã£',
            'u': '‚öç', 'v': '‚çä', 'w': '‚à¥', 'x': ' Ãá/', 'y': '||',
            'z': '‚®Ö', ' ': ' ', '!': '!', '?': '?', '.': '.', ',': ',',
            '(': '(', ')': ')', ':': ':', ';': ';', '-': '-', // caract√®res sp√©ciaux
        };

        const inverseAlphabetGalactique = {};
        Object.entries(alphabetGalactiqueUnicode).forEach(([key, value]) => {
            inverseAlphabetGalactique[value] = key;
        });

        const inputText = document.getElementById('input-text');
        const translatedText = document.getElementById('translated-text');
        const enchantText = document.getElementById('enchant-text');
        const normalText = document.getElementById('normal-text');

        // Convertir texte normal en texte enchant√©
        inputText.addEventListener('input', () => {
            const userInput = inputText.value.toLowerCase();
            let translated = '';

            for (let char of userInput) {
                translated += alphabetGalactiqueUnicode[char] || char;
            }

            translatedText.textContent = translated;
        });

        // Convertir texte enchant√© en texte normal
        enchantText.addEventListener('input', () => {
            let userInput = enchantText.value;
            let translated = '';
            let tempText = userInput;
            let index = 0;

            while (index < tempText.length) {
                let matched = false;

                for (let symbol in inverseAlphabetGalactique) {
                    if (tempText.startsWith(symbol, index)) {
                        translated += inverseAlphabetGalactique[symbol];
                        index += symbol.length;
                        matched = true;
                        break;
                    }
                }

                if (!matched) {
                    translated += inverseAlphabetGalactique[tempText[index]] || tempText[index];
                    index++;
                }
            }

            normalText.textContent = translated;
        });

        // Fonction pour copier dans le presse-papier
        function copyToClipboard(elementId) {
            const element = document.getElementById(elementId);
            const textToCopy = element.textContent;
            const tempTextarea = document.createElement("textarea");

            document.body.appendChild(tempTextarea);
            tempTextarea.value = textToCopy;
            tempTextarea.select();
            document.execCommand("copy");
            document.body.removeChild(tempTextarea);
        }
    </script>
</body>
</html>
